<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<!--
    rootcontext.xmlì—ì„œ

    <property name="mapperLocations" value="classpath:mappers/**/*-mapper.xml" />
    ì´ëŸ°ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ ì¤¬ìœ¼ë‹ˆ ê²½ë¡œí•˜ê³  íŒŒì¼ëª… ì˜ ì¤€ìˆ˜í•´ì£¼ëŠ”ê±° ìŠì§€ ë§ê¸°!

    ì—¬ê¸° ì¸í…”ë¦¬ì œì´ëŠ” ì˜¤í† ì»¤ë°‹ ì•„ë‹ˆë‹ˆ í•­ìƒ commit ì˜í•˜ëŠ” ìŠµê´€ì„ ë“¤ì´ì!
-->

<mapper namespace="member">

    <resultMap id="memberMap" type="member">
        <result column="hobby" property="hobby" typeHandler="strArr"/>
    </resultMap>
    


    <!-- ì²´í¬ë°•ìŠ¤(hobby)ë¡œ ì²´í¬í•œê²Œ ìˆê¸° ë•Œë¬¸ì— resultMapì„ ì‚¬ìš©í•´ì•¼í•¨ -->
    <select id="findMemberById" resultMap="memberMap" parameterType="string" >

        /* ì†ë„ í–¥ìƒì„ ìœ„í•´ (ì»¬ëŸ¼ ì§€ì •)SELECT * ì“°ì§€ë§ê³  í•„ìš”í•œ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ì  */
        SELECT * FROM MEMBER WHERE USERID=#{userId}

    </select>



    <!-- (insertë‹ˆê¹?) ë¦¬ì ˆíŠ¸ì— ëŒ€í•´ì„œëŠ” ì•ˆì¨ë„ ëœë‹¤. ì™œëƒí•˜ë©´ ê·¸ë™ì•ˆ ì¼ìœ¼ë‹ˆê¹?

        "(insertë‹ˆê¹?) ë¦¬ì ˆíŠ¸ì— ëŒ€í•´ì„œëŠ” ì•ˆì¨ë„ ëœë‹¤. ì™œëƒí•˜ë©´ ê·¸ë™ì•ˆ ì¼ìœ¼ë‹ˆê¹?"
        â†’ "INSERT ë¬¸ì´ë‹ˆê¹Œ ê²°ê³¼ íƒ€ì…ì„ ì§€ì •í•  í•„ìš”ê°€ ì—†ë‹¤. ì™œëƒí•˜ë©´ ì´ì „ì— ì‚¬ìš©í–ˆë˜ SELECT ë¬¸ì—ì„œëŠ” ê²°ê³¼ë¥¼ ë§¤í•‘í•´ì•¼ í–ˆì§€ë§Œ,
        INSERTëŠ” ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ì‚½ì…í•˜ëŠ” ì‘ì—…ì´ê¸° ë•Œë¬¸ì´ë‹¤."

        ğŸ’¡ ì™œ INSERTì—ì„œëŠ” resultTypeì„ ì•ˆ ì¨ë„ ë ê¹Œ?
        MyBatisì—ì„œ SELECT ë¬¸ì€ ë°ì´í„° ì¡°íšŒë¥¼ ìˆ˜í–‰í•˜ë¯€ë¡œ, ê²°ê³¼ë¥¼ ê°ì²´(resultType ë˜ëŠ” resultMap)ë¡œ ë§¤í•‘í•´ì•¼ í•©ë‹ˆë‹¤.
        ê·¸ëŸ¬ë‚˜ INSERT, UPDATE, DELETEëŠ” ê²°ê³¼ì ìœ¼ë¡œ ì˜í–¥ì„ ë°›ì€ í–‰(row)ì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” SQLì´ë¯€ë¡œ, ë³„ë„ë¡œ ë§¤í•‘í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
    -->
    <insert id="saveMember" parameterType="member">

        INSERT INTO MEMBER VALUES (#{userId}, #{password}, #{userName}, #{gender}, #{age}, #{email}, #{phone}, #{address},
                                   #{hobby, typeHandler = strArr}, sysdate)

    </insert>

</mapper>